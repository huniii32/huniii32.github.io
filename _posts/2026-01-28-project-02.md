---
title: "[Dacon] K리그-서울시립대 공개 AI 경진대회 – 전략 설정"
excerpt: "K리그-서울시립대 공개 AI 경진대회 (알고리즘 부문)"
categories:
 - project
tags:
  - machine-learning
  - sports-analytics
  - regression
  - ensemble
  - feature-engineering
search: true

toc: true  
toc_sticky: true 
use_math: true
---

# 🦥 K-리그 패스 좌표 예측 대회  
   
# 전략 설정을 위한 가설 수립 (Hypothesis-driven Strategy)

이번 글에서는 K-리그 패스 좌표 예측 대회에 참여하며 모델링을 시작하기 전에 어떤 고민을 했고, 어떤 가설을 세운 뒤 전략을 설계했는지를 정리해본다.  
이 프로젝트에서 가장 먼저 고민한 것은 “어떤 모델을 써야 할까?”가 아니라 **“이 문제를 어떤 관점에서 바라보는 게 맞을까?”**였다.    
모델은 결국 가설을 검증하는 도구이고, 문제를 잘못 해석하면 아무리 성능이 좋은 모델을 사용해도 방향이 어긋날 수 있다고 판단했다.  
  
---

## 1. 문제 인식: 이 문제는 정말 단순한 회귀 문제일까?  

대회의 공식 목표는 패스 이벤트가 발생했을 때 공의 최종 도착 좌표(end_x, end_y)를 예측하는 것이다.  
하지만 문제를 처음 접했을 때 몇 가지 의문이 들었다.  
  
- 같은 위치에서 시작한 패스인데 결과 좌표는 왜 이렇게 다양할까?  
- 평균 좌표를 잘 맞히는 것이 실제 축구 맥락에서 의미가 있을까?  
- 선수는 정말 (x, y)라는 숫자를 보고 패스를 선택할까?  
  
이 질문들을 곱씹어 보면서, 이 문제를 단순한 연속 좌표 회귀 문제로 접근하면 패스라는 행위의 본질을 놓칠 수 있겠다는 생각이 들었다.  
  
---

## 2. 선행 연구 검토: 기존 연구들은 패스를 어떻게 바라봤을까?  
  
### 2.1 Expected Threat (xT)  

Karun Singh이 제안한 Expected Threat(xT) 모델은 패스를 “공격 위협을 증가시키는 공간 이동”으로 해석한다.  
  
이 접근에서 인상적이었던 점은 다음과 같다.  

> 패스의 가치는 좌표 그 자체가 아니라 해당 위치가 공격 위협을 얼마나 증가시키는지에 의해 결정된다.  
> 경기장을 격자(Grid) 형태로 나누고 공간 단위로 기대값을 학습한다.  
  
참고: [출처](https://karun.in/blog/expected-threat.html)  
  
xT 모델은 **“정확히 어디로 갔는가”**보다 **“어떤 공간으로 이동했는가”**가 중요하다는 관점을 명확히 보여준다.  
  
---

### 2.2 Expected Possession Value (EPV)  
  
Fernandez & Bornn(2018)이 제안한 EPV 프레임워크 역시 패스를 단순한 좌표 변화로 보지 않는다.  
  
> 선수는 무작위로 행동하지 않고  
> 특정 위치에서 가능한 여러 선택지(패스, 드리블 등)를 비교하며  
> 그 결과를 공간적 가치 변화로 평가한다.  

참고: [논문](https://arxiv.org/abs/1802.07127)  
  
이 연구는 패스를 연속적인 좌표 예측 문제가 아니라 의사결정 문제로 바라본다는 점에서 이번 프로젝트의 문제 인식과 직접적으로 연결된다.  
  
---
  
### 2.3 Pitch Control & 공간 점유 모델  

Spearman(2018)의 Pitch Control 모델은 경기 중 특정 위치를 어느 팀이 얼마나 빠르게 점유할 수 있는지를 추정한다.  
  
이 모델이 시사하는 바는 다음과 같다.  
  
> 패스 성공 여부는 도착 좌표 하나로 결정되지 않는다.  
> 그 좌표 주변 공간의 통제 상태가 훨씬 중요하다.  
> 같은 좌표라도 상황에 따라 전혀 다른 가치를 가질 수 있다.  

참고: [논문](https://arxiv.org/abs/1802.07127)  
  
이 연구들을 통해 좌표 예측 문제 자체가 구조적으로 불확실성이 크다는 점을 인식하게 되었다.  

---
  
## 3. 가설 1: 패스는 좌표 예측이 아니라 공간 선택 문제다  
  
선행 연구들을 검토한 뒤 가장 먼저 세운 가설은 다음과 같다.  
  
### 가설 1  
> 선수는 무작위적인 (x, y) 좌표를 선택하는 것이 아니라,    
> 의미 있는 공간 영역 중 하나를 선택해 패스를 시도한다.  

이 가설이 맞다면,  
  
- 좌표의 평균값을 맞히는 접근은 실제 선택과 괴리가 생길 수 있고  
- 자주 선택되는 공간 영역의 분포를 학습하는 것이 더 합리적이며  
- 모델은 좌표 값보다 공간 선택 경향을 학습하는 편이 낫다.  

따라서 이 프로젝트에서는 좌표를 직접 예측하는 방식보다 공간 중심으로 문제를 해석하는 전략을 우선적으로 고려했다.  
  
---
  
## 4. 가설 2: 패스 유형에 따라 좌표 분포는 다를 것이다  
  
두 번째 가설은 축구 도메인 지식과 자연스럽게 연결된다.  
  
### 가설 2  
> 패스의 거리와 유형에 따라    
> 도착 좌표의 분포는 근본적으로 다를 것이다.  
  
축구 맥락에서 보면,  
  
- 짧은 패스는 좁은 영역에서 반복적으로 발생하고  
- 중거리 패스는 전진 공간을 활용하는 경우가 많으며  
- 롱패스는 방향성과 리스크가 훨씬 크다.  
  
이렇게 성격이 다른 패스들을 하나의 분포로 묶어 학습하는 것은 모델 입장에서 오히려 혼란을 키울 수 있다고 판단했다.  
그래서 패스를 유형별로 분리해 접근하는 전략을 초기 단계에서부터 설정했다.  
  
---
  
## 5. 가설 3: 선수 ID보다 상황과 역할이 중요하다  
  
선수 ID 사용에 대해서도 고민이 있었다.  
  
기존 연구들을 살펴보면,  
  
- EPV는 선수 ID를 핵심 변수로 사용하지 않고  
- Pitch Control 역시 선수의 위치와 이동 능력에 집중한다.  
  
이를 바탕으로 다음 가설을 세웠다.  
  
### 가설 3  
> 패스 결과는 선수 개인의 고유성보다    
> 당시의 상황과 역할(role)에 더 크게 의존할 것이다.  
  
이에 따라 이 프로젝트에서는  
  
- 선수 ID 의존도를 최소화하고  
- 행동 맥락과 위치 관계 중심으로 피처를 설계하며  
- 테스트 데이터에서도 잘 일반화되는 모델을 목표로 삼았다.  
  
---
  
## 6. 최종 전략 정리  
  
위 가설들과 선행 연구 검토를 통해 이번 대회에서는 다음과 같은 전략을 선택했다.  
  
1. 좌표 예측 문제를 공간 선택 문제로 재해석한다.  
2. 패스를 거리 기준으로 분리해 분포를 단순화한다.  
3. 좌표 값 자체보다 공간적 경향성 학습에 집중한다.  
4. 선수 개인보다 상황과 역할 중심의 표현을 사용한다.  
5. 모델 선택 이전에 문제 구조를 먼저 단순화한다.  
  
이후의 모든 EDA와 모델링 과정은 이 가설들이 실제 데이터에서도 타당한지를 검증하는 방향으로 진행된다.  
  
---
  
## 7. 마무리하며  

다음 글에서는 위에서 세운 가설들이 실제 데이터 분포에서 어떻게 나타나는지를 확인하기 위해 진행한  
  
- 패스 거리별 좌표 분포 시각화  
- 공간 밀도 분석  
- 단일 분포 가정의 한계 검증  
  
을 중심으로 EDA 과정을 정리할 예정이다.  